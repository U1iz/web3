<!DOCTYPE html> <html lang="zh-CN"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>五十音图</title> <link rel="shortcut icon" href="http://res1433223.net3v.net/img/favicon.png"> <script src="/notes/lib/jQuery.min.js"></script> <script src="../../../../../../../lib/jQuery.min.js"></script> <style> * { cursor: default; margin: 0; padding: 0; font-family: 'DFPWaWaW5-GB5'; } html { font-size: 24px; } html, body, table { position: relative; width: 100%; height: 100%; } body { background: #24272e; } @font-face { font-family: 'DFPWaWaW5-GB5'; src: url(./DFPWaWaW5-GB5.ttf); } table { max-width: 720px; max-height: 800px; } table { border-collapse: collapse; border: 0.1rem solid #000; transform: translateZ(10rem); } table:hover { background-color: #fff; } th, td { text-align: center; border: 0.08rem solid #233; } tbody tr:nth-child(2n-1) th:first-child, thead th { padding: 0.3rem 0; background: #e084b2; } thead th, .th { height: 0; font-weight: 800; font-size: 0.6rem; letter-spacing: 0.64rem; } .th { padding: 0 0.3rem; width: 0; height: 0; } </style> <style> .jiaMing, .roma { transition: all 0.2s; } .jiaMing { font-weight: 400; font-size: 1rem; letter-spacing: 0.6rem; } .roma { font-weight: 400; font-size: 0.6rem; padding: 0 1rem; letter-spacing: 0.1rem; } .jiaMing::selection { background: #a0f6f6; } .roma::selection { background: rgb(184, 143, 255); color: #fff; } .th::selection, thead th::selection { background: transparent; text-shadow: 0 0 0.3rem #fff; } .h { -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; color: transparent !important; } .h:hover { color: #fff !important; background-color: #000 !important; } .h_l { margin-left: -100%; } .select_n, .select_n * { -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; } </style> <script> /* url 判断模式 */ let jm_h = false; let dy_h = false; let hl_h = false; let pyj = false; let pmj = false; let url = (location.href).split('?')[1]; let url_data = {}; $(function () { if (url != undefined && url != '') { let temp = ''; url.split('&').forEach((e, i) => { temp += '"' + e.replace('=', '":"') + '",'; }); temp = '{' + temp.substr(0, temp.length - 1) + '}'; url_data = JSON.parse(temp); console.log(url_data); function if_check(id, obj_n, callback) { if (obj_n == 'on') { $('#' + id).attr('checked', 'checked'); callback(true) } else { $('#' + id).removeAttr('checked'); callback() } } if (url_data.hide_menu) { $('.form').hide(); } if_check('jm', url_data.jm, function (p) { if (p) { jm_h = true; } else { jm_h = false; } }); if_check('dy', url_data.dy, function (p) { if (p) { dy_h = true; } else { dy_h = false; } }); if_check('hl', url_data.hl, function (p) { if (p) { hl_h = true; } else { hl_h = false; } }); if_check('pyj', url_data.pyj, function (p) { if (p) { pyj = true; } else { pyj = false; } }); if_check('pmj', url_data.pmj, function (p) { if (p) { pmj = true; } else { pmj = false; } }); /* 全部拒选 */ if (url_data.hide_menu == 'true') { $('body').addClass('select_n'); } } function add_tbody(obj) { for (let i in obj) { let ths = ''; let tds = ''; function lfn(p) { switch (p) { case 0: for (let k in obj[i]) { ths += '<th>' + obj[i][k][1] + '</th>'; tds += '<td>' + k + '</td>' } break; case 1: for (let k in obj[i]) { ths += '<th>' + obj[i][k][0] + '</th>'; tds += '<td>' + k + '</td>' } break; case 2: for (let k in obj[i]) { ths += '<th>' + obj[i][k] + '</th>'; tds += '<td>' + k + '</td>' } break; default: for (let k in obj[i]) { ths += '<th></th>'; tds += '<td>' + k + '</td>'; } break; } } if (pyj && pmj) { $('head').append('<style>.roma{font-size:1.2rem ! important}</style>'); lfn() } else if (pyj) { lfn(0) } else if (pmj) { lfn(1) } else { lfn(2) } $('table tbody').append(' <tr><th>' + i + ths + '</tr><tr>' + tds + '</th></tr>') } } add_tbody({ あ行: { a: 'あア', i: 'いイ', u: 'うウ', e: 'えエ', o: 'おオ' }, か行: { ka: 'かカ', ki: 'きキ', ku: 'くク', ke: 'けケ', ko: 'こコ' }, さ行: { sa: 'さサ', 'si(shi)': 'しシ', su: 'すス', se: 'せセ', so: 'そソ' }, た行: { ta: 'たタ', 'ti(chi)': 'ちチ', 'tu(tsu)': 'つツ', te: 'てテ', to: 'とト' }, な行: { na: 'なナ', ni: 'にニ', nu: 'ぬヌ', ne: 'ねネ', no: 'のノ' }, は行: { ha: 'はハ', hi: 'ひヒ', 'hu(fu)': 'ふフ', he: 'ヘへ', ho: 'ほホ' }, ま行: { ma: 'まマ', mi: 'みミ', mu: 'むム', me: 'めメ', mo: 'もモ' }, や行: { ya: 'やヤ', '': '  ', yu: 'ゆユ', ' ': '  ', yo: 'よヨ' }, ら行: { ra: 'らラ', ri: 'りリ', ru: 'るル', re: 'れレ', ro: 'ろロ' }, わ行: { wa: 'わワ', '': '  ', ' ': '  ', '  ': '  ', wo: 'をヲ' } }) }); $(window).bind({ 'load': function () { if (url_data.rm == undefined || url_data.rm == 'normal') { $('#normal').attr('checked', 'checked'); jm_h = false; dy_h = false; hl_h = false; } else { $('#recite').attr('checked', 'checked'); } /* table的样式控制 */ $('table').css({ width: '100%', maxWidth: '720px', height: $(this).outerWidth() / 9 * 10 + 'px', margin: 'auto', top: $('table').outerWidth() == 720 ? ($('body').height() - $('table') .height()) / 2 + 'px' : 0 }); /* th, td 的样式控制 */ $('tbody>tr:nth-child(2n-1)>th:first-child').css({ writingMode: 'vertical-lr' }).attr({ rowspan: 2 }).addClass('th').siblings('th').css({ background: '#fff1f9', height: 0 }).addClass('jiaMing').mouseenter(function () { $(this).css({ color: '#ff793d', boxShadow: '0 0 0.3rem #000', transform: 'scale(1.1)', zIndex: 10 }) }).mouseleave(function () { $(this).css({ color: '#000', boxShadow: 'none', transform: 'scale(1)', zIndex: 1 }) }); $('tbody tr:nth-child(2n) td').css({ background: '#e7adcd', height: 0 }).addClass('roma').mouseenter(function () { $(this).css({ color: '#bcfcf9', boxShadow: '0 0 0.3rem #000', transform: 'scale(1.2) translateZ(10rem)', zIndex: 10 }) }).mouseleave(function () { $(this).css({ color: '#000', boxShadow: 'none', transform: 'scale(1)', zIndex: 1 }) }); let jm_t = $('.jiaMing').text().split(''); console.log(jm_t); if (jm_h == true) { $('.jiaMing').addClass('h') } else { $('.jiaMing').removeClass('h') } if (dy_h == true) { $('.roma').addClass('h') } else { $('.roma').removeClass('h') } if (hl_h == true) { $('thead th').addClass('h'); $('.th').addClass('h') } else { $('thead th').removeClass('h'); $('.th').removeClass('h') } }, 'resize': function () { $('table').css({ height: $(this).width() / 9 * 10 + 'px', top: $('table').outerWidth() == 720 ? ($('body').height() - $('table') .height()) / 2 + 'px' : 0 }) } }) </script> <style> .form { position: absolute; top: 0.3rem; left: 0.4rem; background: #fff; border-radius: 1rem; font-size: 0.7rem; padding: 0.6rem 1rem; z-index: 10; } .btn { cursor: pointer; background: #f5f5f5; padding: 0.4rem 0.8rem; border-radius: 1rem; outline: none; border: 0.02rem solid #f0f0f0; } #msg { position: absolute; top: -100%; left: 20%; width: 60%; text-align: center; border-radius: 1rem; background: rgba(255, 255, 255, 0.243); opacity: 0; z-index: 10; } .form * { -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; } #tip { margin-top: 0.8rem; font-size: 0.3rem; color: #ddd; } </style> </head> <body> <form method="get" class="form"> <div id="show"> <h6>使用模式：</h6> <div> <input type="radio" name="rm" value="normal" id="normal" class="radio" /><span>正常</span> <input type="radio" name="rm" value="recite" id="recite" class="radio" /><span>背诵</span> </div> <h6 style="margin-top: 0.6rem;">隐藏元素</h6> <div style="margin-top: 0.4rem;display: flex;justify-content: space-around;"> <p> <input type="checkbox" name="jm" id="jm"><span>假名</span> </p> <p> <input type="checkbox" name="dy" id="dy"><span>读音</span> </p> <p> <input type="checkbox" name="hl" id="hl"><span>行列名</span> </p> </div> <div style="margin-top: 0.4rem;background: #fdfdfd;display: flex;justify-content: space-around;"> <p> <input type="checkbox" name="pyj" id="pyj"><span>平假名</span> </p> <p> <input type="checkbox" name="pmj" id="pmj"><span>片假名</span> </p> </div> <div style="margin-top: 1rem;"> <input type="submit" value="执行" id="update" class="btn"> <input type="button" value="隐藏菜单" id="hide" class="btn"> </div> <span id="tip">双击 显示/隐藏 菜单</span> </div> </form> <div id="msg">双击页面 显/隐 菜单</div> <table> <thead> <tr> <th></th> <th>あ段</th> <th>い段</th> <th>う段</th> <th>え段</th> <th>お段</th> </tr> </thead> <tbody></tbody> </table> <script>; /* 表单部分 */ $('#hide').click(function () { $(this).css({ transition: 'all 0.2s' }); $('.form').fadeToggle(); $('#msg').stop().animate({ top: '4rem', opacity: 1, padding: '0.4rem' }, 1600); setTimeout(function () { $('#msg').stop().animate({ top: '-100%', opacity: 0, padding: 0 }, 1600) }, 3000); }); $('.form span').click(function () { if ($(this).prev('input').attr('checked') == 'checked') { if ($(this).prev('input').attr('type') == 'radio') { $('.radio').removeAttr('checked', 'checked') } $(this).prev('input').removeAttr('checked'); } else { if ($(this).prev('input').attr('type') == 'radio') { $('.radio').removeAttr('checked', 'checked') } $(this).prev('input').attr('checked', 'checked'); } }); $(window).dblclick(function () { $('.form').fadeToggle(); $('#msg').animate({ top: '-100%', opacity: 0, padding: 0 }, 1600) });/* 防止元素拖拽 */ document.ondragstart = function () { return false; }; </script> </body> </html>